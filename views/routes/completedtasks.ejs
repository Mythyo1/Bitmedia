<% include ../partials/header %>
<div class="mdl-layout--fixed-header mdl-layout mdl-js-layout">
  <header class="mdl-layout__header mdl-layout__header mdl-color--blue">
    <div class="mdl-layout__header-row">
      <!-- Title -->
      <span class="mdl-layout-title">Welcome</span>
      <!-- Add spacer, to align navigation to the right -->
      <div class="mdl-layout-spacer"></div>
      <span>
        <form action="/search" method="POST">
          <div class="mdl-textfield mdl-js-textfield mdl-textfield--expandable">
            <label class="mdl-button mdl-js-button mdl-button--icon" for="sample6">
              <i class="material-icons">search</i>
            </label>
            <div class="mdl-textfield__expandable-holder">
              <input class="mdl-textfield__input" type="text" id="sample6">
              <label class="mdl-textfield__label" for="sample-expandable">Expandable Input</label>
            </div>
          </div>
        </form>
      </span>
      <!-- Navigation -->
    </div>
  </header>
  <% include ../partials/navbar %>
  <main class="mdl-layout__content dashboard-body">
    <ul class="task-list-ul mdl-list" id="task-list">
        <div class="settings">
            <h4>Your Completed Tasks</h4>
            <button id="task-list-menu" class="mdl-button mdl-js-button" style="height: 64px;">
                <i class="material-icons" style="font-size: 64px;">delete</i>
            </button>
        </div>
        <% if(completedTasks.length !== 0) { %>
            <% for(let i = 0; i < completedTasks.length; i++) { %>
            <li class="mdl-list__item">
                <span class="mdl-list__item-primary-content" id="tooltip-<%=completedTasks[i].id%>">
                <i class="material-icons  mdl-list__item-avatar">person</i>
                <button class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" onclick="displayTaskDescription(event)" id="task-list-<%=completedTasks[i].id%>">
                <%= completedTasks[i].title %>
                </button>
                </span>
                <span class="mdl-list__item-secondary-action">
                <label class="mdl-checkbox mdl-js-checkbox" for="task-id-<%=completedTasks[i].id%>">
                    <input type="checkbox" id="task-id-<%=completedTasks[i].id%>" class="mdl-checkbox__input" onchange="taskChecked(event)">
                </label>
                </span>
            </li>
            <!-- Dialog -->
            <% include ../partials/misc/completedTaskDialog.ejs %>
            <% } %>
        <% } %>
        </ul>
  </main>
</div>
<script src="/scripts/tasks.js"></script>
<% include ../partials/footer %>